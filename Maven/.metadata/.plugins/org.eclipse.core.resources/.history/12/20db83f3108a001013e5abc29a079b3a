package test;
 
import java.io.FileReader;
import java.time.Duration;
import java.util.Properties;

import org.openqa.selenium.Alert;
import org.openqa.selenium.WebDriver;
import org.openqa.selenium.chrome.ChromeDriver;
import org.testng.annotations.Test;
 
import pages.ElementLocator;
 
public class RunProject {
	
	WebDriver driver;
  @Test
  public void execute() throws Exception {
	    driver = new ChromeDriver();
	    driver.manage().window().maximize();
		FileReader fr = new FileReader("C:\\Users\\Praveenraj.t\\Maven\\Project\\src\\test\\java\\test\\input.properties");
		Properties p = new Properties();
		p.load(fr);
		driver.get(p.getProperty("url"));
		ElementLocator element = new ElementLocator(driver);
		element.signupName(p.getProperty("name"));
		element.signupEmail(p.getProperty("email"));
		element.clickSignup();
		
		boolean check = element.isAlreadyRegistered();
		if(check) {
			System.out.println("User email registered");
			element.loginEmail(p.getProperty("email"));
			element.loginPassword(p.getProperty("password"));
			element.loginButton();
			System.out.println("-----------------------------Login-----------------------");
				
		}else {
			element.selectTitle(p.getProperty("title"));
			element.enterPassword(p.getProperty("password"));
			element.enterFirstName(p.getProperty("firstname"));
			element.enterLastName(p.getProperty("lastname"));
			element.enterCompany(p.getProperty("company"));
			element.enterAddress(p.getProperty("address"));
			element.selectCountry(p.getProperty("country"));
			element.enterState(p.getProperty("state"));
			element.enterCity(p.getProperty("city"));
			element.enterZipcode(p.getProperty("zipcode"));
			element.enterNumber(p.getProperty("number"));
			
			element.createAccount();
			element.continueButton();
			
			Thread.sleep(3000);
			System.out.println("--------------------Created-----------------------------");
		}
		String query = p.getProperty("query");
		if("True".equals(query)){
		element.Contact();
		element.Contact_Name(p.getProperty("name"));
		element.Contact_Email(p.getProperty("email"));
		element.Contact_Subject(p.getProperty("subject"));
		element.Contact_Message(p.getProperty("message"));
		element.Contact_File();
		element.Contact_Submit();
		
		Alert alert = driver.switchTo().alert();
		driver.manage().timeouts().implicitlyWait(Duration.ofSeconds(10));
		alert.accept();
		
		element.ContacttoHome();}
		element.Product();
		element.Men();
		element.Tshirt_link();
		element.Tshirt();  
		element.Continue_Cart();
		element.Tshirt2();
		element.Continue_Cart();
		element.Cart();
		element.Checkout();
		element.Comment(p.getProperty("comment"));
		element.PlaceOrder();
		element.NameonCard(p.getProperty("nameoncard"));
		element.Cn(p.getProperty("cn"));
		element.Cvc(p.getProperty("cvc"));
		element.Emonth(p.getProperty("m"));
		element.Eyear(p.getProperty("y"));
		element.ConfirmOrder();
  }
  
}